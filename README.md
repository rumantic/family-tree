# Family Tree Visualization

–°–æ–∑–¥–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ–º–µ–π–Ω–æ–≥–æ –¥—Ä–µ–≤–∞ –∏–∑ JSON –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–æ–Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–∏–ª—è, –Ω–∞–ø–æ–º–∏–Ω–∞—é—â–µ–≥–æ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –∏–∑ —É—á–µ–±–Ω–∏–∫–æ–≤ –∏—Å—Ç–æ—Ä–∏–∏.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üìä **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –º–æ–¥—É–ª–∏
- üé® **–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Å—Ç–∏–ª–µ —É—á–µ–±–Ω–∏–∫–æ–≤ –∏—Å—Ç–æ—Ä–∏–∏
- üñºÔ∏è **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ–Ω–æ–≤** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ä–∏–Ω–Ω—ã—Ö —Å–≤–∏—Ç–∫–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ñ–æ–Ω–æ–≤
- üì± **–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º 300 DPI –¥–ª—è –ø–µ—á–∞—Ç–∏
- üîÑ **–ì–∏–±–∫–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Graphviz –∏ matplotlib (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback)
- üì∏ **–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ª—é–¥–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ base64

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
family-tree/
‚îú‚îÄ‚îÄ main.py                    # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ tree.json                 # –î–∞–Ω–Ω—ã–µ —Å–µ–º–µ–π–Ω–æ–≥–æ –¥—Ä–µ–≤–∞
‚îú‚îÄ‚îÄ family_tree/              # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ core/                 # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–≥—Ä—É–∑–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py         # –ö–ª–∞—Å—Å—ã Person –∏ FamilyTree
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ loader.py         # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ JSON
‚îÇ   ‚îú‚îÄ‚îÄ rendering/            # –ú–æ–¥—É–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ renderer.py       # –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ matplotlib_renderer.py  # Fallback —Ä–µ–Ω–¥–µ—Ä–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ assets/               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ manager.py        # –§–æ–Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ utils/                # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ helpers.py        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îî‚îÄ‚îÄ assets/                   # –ü–∞–ø–∫–∞ –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤
    ‚îî‚îÄ‚îÄ backgrounds/          # –§–æ–Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Graphviz –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞:
```bash
# Ubuntu/Debian
sudo apt install graphviz

# macOS
brew install graphviz

# Windows
# –°–∫–∞—á–∞–π—Ç–µ —Å https://graphviz.org/download/
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–º–µ–π–Ω–æ–≥–æ –¥—Ä–µ–≤–∞ –∏–∑ tree.json
python main.py

# –£–∫–∞–∑–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
python main.py custom_tree.json -o my_tree.png
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏–Ω—Ç–∞–∂–Ω—ã–π —Å–≤–∏—Ç–æ–∫
python main.py --create-background vintage_scroll

# –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é –±—É–º–∞–≥—É
python main.py --create-background classic_paper
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤

```bash
# –° —Ñ–æ–Ω–æ–º –≤–∏–Ω—Ç–∞–∂–Ω–æ–≥–æ —Å–≤–∏—Ç–∫–∞
python main.py -b vintage_scroll.png -o tree_with_background.png

# –£–∫–∞–∑–∞–Ω–∏–µ –ø—É—Ç–∏ –∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É —Ñ–æ–Ω—É
python main.py -b /path/to/my_background.jpg -o tree_custom_bg.png
```

### –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–µ–º–µ–π–Ω–æ–≥–æ –¥—Ä–µ–≤–∞
python main.py --analyze

# –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏
python main.py --analyze -v
```

### –°—Ç–∏–ª–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

```bash
# –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python main.py --style classic

# –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å
python main.py --style modern
```

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

–§–∞–π–ª `tree.json` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–µ–º–µ–π–Ω–æ–≥–æ –¥—Ä–µ–≤–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
    "id": 1,
    "type": "root",
    "name": "–ò–º—è –§–∞–º–∏–ª–∏—è",
    "birthyear": "1980",
    "photo": "data:image/jpeg;base64,...",
    "stock": false,
    "parents": [
        {
            "id": 2,
            "type": "parent",
            "name": "–†–æ–¥–∏—Ç–µ–ª—å 1",
            "birthyear": "1950",
            "parents": [...]
        }
    ],
    "lastId": 65
}
```

### –ü–æ–ª—è:
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `type` - —Ç–∏–ø —É–∑–ª–∞ ("root", "parent", "person")
- `name` - –ø–æ–ª–Ω–æ–µ –∏–º—è
- `birthyear` - –≥–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∞)
- `photo` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ base64 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `stock` - —Ñ–ª–∞–≥ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏)
- `parents` - –º–∞—Å—Å–∏–≤ —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- `lastId` - –ø–æ—Å–ª–µ–¥–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π ID

## –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç —Å–µ–º–µ–π–Ω—ã–µ –¥—Ä–µ–≤–∞ —Å:
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –ø–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è–º
- –°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏ –º–µ–∂–¥—É —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ –¥–µ—Ç—å–º–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≥–æ–¥–∞—Ö —Ä–æ–∂–¥–µ–Ω–∏—è
- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π (–≤ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ)

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ `family_tree/rendering/`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å —Å –º–µ—Ç–æ–¥–æ–º `render_to_png()`
3. –î–æ–±–∞–≤—å—Ç–µ –∏–º–ø–æ—Ä—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–æ–Ω–æ–≤

1. –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ –≤ `AssetManager`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é PIL
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –ø–∞–ø–∫—É `assets/backgrounds/`

### –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –º–µ—Ç–æ–¥—ã —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å—Ç–∏–ª–µ–π.

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **matplotlib** >= 3.7.0 - –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **networkx** >= 3.0 - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥—Ä–∞—Ñ–∞–º–∏
- **Pillow** >= 10.0.0 - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **numpy** >= 1.24.0 - –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **graphviz** >= 0.20.1 - –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.